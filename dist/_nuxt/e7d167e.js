(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{742:function(e,t,n){"use strict";n.r(t);n(22),n(14),n(51),n(74);var r=n(2),o=(n(58),n(12)),c=n(210),d=n.n(c),l=n(698),f=n(206);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={meta:{crumbs:[{to:"/dokumen",exact:!0,text:"Dashboard",disabled:!1},{to:"/dokumen/e-do/edit",text:"Edit e-DO",disabled:!0}]},middleware:"dokumenscl",components:{EditEdoForm:l.default},fetch:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$toast.global.app_loading(),t.next=3,Promise.all([e.get_edo_by_number()]).finally((function(){e.$toast.clear()}));case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{isLoading:!1,dataSelect:{shipperName:["a","b"],consigneeName:[],portOfLoading:[],portOfDischarge:[],finalDestination:[]},models:_({},f.h)}},fetchOnServer:!1,methods:{on_submit:function(e,t){var n=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n.$toast.global.app_loading(),n.isLoading=!0,t.next=5,e.observer.validate();case 5:if(!t.sent){t.next=11;break}return t.next=9,n.$axios.put("/api/e_do/".concat(e.data.edo_id),d.a.stringify(e.data));case 9:t.sent&&(n.$toast.clear(),n.$toast.global.app_success("e-DO ".concat(n.$route.params.id," successfully updated.")));case 11:t.next=19;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(JSON.stringify(t.t0.response)),r=t.t0.response.data.status,n.$toast.clear(),n.$toast.global.app_error(r);case 19:return t.prev=19,n.isLoading=!1,n.$router.back(),t.finish(19);case 23:case"end":return t.stop()}}),t,null,[[0,13,19,23]])})))()},get_edo_by_number:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$route.params.id,t.next=3,e.$axios.get("/api/e_do/search?e_do_number=".concat(n)).then((function(t){e.models=t.data.data[0]})).catch((function(t){var r=t.response&&" ,".concat(t.response.message);e.$toast.global.app_error("Failed to get e-DO ".concat(n).concat(r))}));case 3:case"end":return t.stop()}}),t)})))()},get_all_consignee:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/api/e_do/consignee").then((function(t){e.dataSelect.consigneeName=t.data.data})).catch((function(t){var n=t.response&&" ,".concat(t.response.message);e.$toast.global.app_error("Failed get consignee".concat(n))}));case 2:case"end":return t.stop()}}),t)})))()},get_all_final_destination:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/api/e_do/final_destination").then((function(t){e.dataSelect.finalDestination=t.data.data})).catch((function(t){var n=t.response&&" ,".concat(t.response.message);e.$toast.global.app_error("Failed get final destination".concat(n))}));case 2:case"end":return t.stop()}}),t)})))()},get_all_port_of_loading:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/api/e_do/port_of_lading").then((function(t){e.dataSelect.portOfLoading=t.data.data})).catch((function(t){var n=t.response&&" ,".concat(t.response.message);e.$toast.global.app_error("Failed get port of loading".concat(n))}));case 2:case"end":return t.stop()}}),t)})))()},get_all_port_of_discharge:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/api/e_do/port_of_discharge").then((function(t){e.dataSelect.portOfDischarge=t.data.data})).catch((function(t){var n=t.response&&" ,".concat(t.response.message);e.$toast.global.app_error("Failed get port of discharge".concat(n))}));case 2:case"end":return t.stop()}}),t)})))()}}},O=n(30),component=Object(O.a)(h,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("edit-edo-form",{attrs:{loading:e.$fetchState.pending,"select-data":e.dataSelect,models:e.models},on:{onSubmit:e.on_submit}})}),[],!1,null,null,null);t.default=component.exports}}]);