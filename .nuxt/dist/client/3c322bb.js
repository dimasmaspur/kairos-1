(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{706:function(e,t,r){"use strict";r.r(t);r(14);var o=r(2),n=(r(58),r(12)),l=r(205),c=r.n(l);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w={layout:"spl",meta:{crumbs:[{text:"Setting",exact:!0,to:"/spl/setting"}]},data:function(){return{isSubmiting:!1,currentPassword:"",password:"",rePassword:"",show1:!1,show2:!1,show3:!1}},computed:{observer:function(){return this.$refs.observer}},methods:{on_submit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isSubmiting=!0,e.$toast.global.app_loading(),t.next=4,e.$axios.put("/edit_password/".concat(e.$auth.user.id),c.a.stringify(e.password)).then((function(t){e.clear(),e.$auth.setUser(v(v({},e.$auth.user),{},{currentPassword:e.password})),e.$toast.global.app_success("Password successfully updated.")})).catch((function(t){t&&e.$toast.global.app_error("Failed to change password")})).finally((function(){e.isSubmiting=!1}));case 4:case"end":return t.stop()}}),t)})))()},clear:function(){this.observer.reset()},cancel:function(){this.clear(),this.$router.back()}}},f=r(30),m=r(34),h=r.n(m),y=r(440),_=r(457),P=r(463),x=r(445),O=r(459),S=r(493),component=Object(f.a)(w,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"mx-auto"},[r("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var o=t.invalid,n=t.handleSubmit;return[r("form",{on:{submit:function(t){return t.preventDefault(),n(e.on_submit)},reset:function(t){return t.preventDefault(),e.cancel(t)}}},[r("v-row",{attrs:{align:"center",justify:"space-between"}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("label",{staticClass:"text-body-1",attrs:{for:"email"}},[e._v("Your e-mail")]),e._v(" "),r("v-text-field",{attrs:{placeholder:"E-mail",value:e.$auth.user.email,readonly:"",solo:""}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("label",{staticClass:"text-body-1",attrs:{for:"currentPassword"}},[e._v("Your name")]),e._v(" "),r("v-text-field",{attrs:{label:"Name",value:e.$auth.user.name,readonly:"",solo:""}})],1)],1),e._v(" "),r("v-divider",{staticClass:"my-10"}),e._v(" "),r("v-row",{attrs:{align:"center",justify:"space-between"}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"headline font-weight-bold"},[e._v("\n            Change Password\n          ")]),e._v(" "),r("validation-provider",{attrs:{hidden:"",vid:"$auth.user.currentPassword"}},[r("v-text-field",{attrs:{hidden:""},model:{value:e.$auth.user.currentPassword,callback:function(t){e.$set(e.$auth.user,"currentPassword",t)},expression:"$auth.user.currentPassword"}})],1)],1)],1),e._v(" "),r("v-row",{attrs:{align:"center",justify:"space-between"}},[r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("label",{staticClass:"text-body-1",attrs:{for:"currentPassword"}},[e._v("Current Password")]),e._v(" "),r("validation-provider",{attrs:{name:"current password",rules:"required|confirmed:$auth.user.currentPassword"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.valid,n=t.errors;return[r("v-text-field",{staticClass:"mt-3",attrs:{id:"currentPassword",placeholder:"Input your recent password",solo:"",required:"",success:o,"error-messages":n,loading:e.isSubmiting,disabled:e.isSubmiting,"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password"},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.currentPassword,callback:function(t){e.currentPassword=t},expression:"currentPassword"}})]}}],null,!0)})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("label",{staticClass:"text-body-1",attrs:{for:"password"}},[e._v("New Password")]),e._v(" "),r("validation-provider",{attrs:{name:"password",rules:"required",vid:"password"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.valid,n=t.errors;return[r("v-text-field",{staticClass:"mt-3",attrs:{id:"password",placeholder:"Input new password",solo:"",required:"",success:o,"error-messages":n,loading:e.isSubmiting,disabled:e.isSubmiting,type:e.show2?"text":"password","append-icon":e.show2?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.show2=!e.show2}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})]}}],null,!0)})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("label",{staticClass:"text-body-1",attrs:{for:"rePassword"}},[e._v("Re-type Password")]),e._v(" "),r("validation-provider",{attrs:{name:"re-type password",rules:"required|confirmed:password"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.valid,n=t.errors;return[r("v-text-field",{staticClass:"mt-3",attrs:{id:"rePassword",placeholder:"Input password again",solo:"",required:"",success:o,"error-messages":n,loading:e.isSubmiting,disabled:e.isSubmiting,type:e.show3?"text":"password","append-icon":e.show3?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.show3=!e.show3}},model:{value:e.rePassword,callback:function(t){e.rePassword=t},expression:"rePassword"}})]}}],null,!0)})],1)],1),e._v(" "),r("v-row",{staticClass:"text-sm-right",attrs:{align:"center","justify-sm":"end"}},[r("v-col",{attrs:{cols:"auto"}},[r("v-btn",{attrs:{text:"",color:"red",type:"reset",disabled:e.isSubmiting}},[e._v("\n            Cancel\n          ")])],1),e._v(" "),r("v-col",{attrs:{cols:"auto"}},[r("v-btn",{attrs:{color:"primary",type:"submit",disabled:o,loading:e.isSubmiting}},[e._v("\n            Update\n          ")])],1)],1)],1)]}}])})],1)}),[],!1,null,null,null);t.default=component.exports;h()(component,{VBtn:y.a,VCol:_.a,VContainer:P.a,VDivider:x.a,VRow:O.a,VTextField:S.a})}}]);